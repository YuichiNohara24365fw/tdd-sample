<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub & Claude Code Actions 統合ガイド</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            padding: 40px 0;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .section {
            background: white;
            margin: 30px 0;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
        }

        .flow-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 25px 0;
            border-left: 5px solid #3498db;
        }

        .flow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .flow-step {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .flow-step:hover {
            transform: translateY(-3px);
        }

        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .trigger-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .trigger-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 25px;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .trigger-card:hover {
            transform: translateY(-5px);
        }

        .trigger-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .problem-solution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .problem-box {
            background: #ffe6e6;
            border-left: 5px solid #e74c3c;
            padding: 20px;
            border-radius: 8px;
        }

        .solution-box {
            background: #e8f5e8;
            border-left: 5px solid #27ae60;
            padding: 20px;
            border-radius: 8px;
        }

        .architecture-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin: 25px 0;
            font-family: monospace;
            font-size: 14px;
            line-height: 2;
        }

        .system-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            position: relative;
        }

        .system-component {
            background: white;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 20px;
            min-width: 200px;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        .system-component:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .component-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            text-align: center;
        }

        .component-features {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .component-features li {
            color: #34495e;
            margin: 5px 0;
            padding-left: 15px;
            position: relative;
        }

        .component-features li:before {
            content: "•";
            color: #3498db;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .connection-arrow {
            font-size: 24px;
            color: #3498db;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        .tdd-flow-diagram {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 25px 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
        }

        .tdd-phase {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            position: relative;
            transition: transform 0.3s ease;
        }

        .tdd-phase:hover {
            transform: scale(1.05);
        }

        .phase-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: block;
        }

        .phase-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .phase-description {
            font-size: 0.9em;
            color: #7f8c8d;
            line-height: 1.4;
        }

        .tdd-arrow {
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            color: white;
        }

        .tdd-phase:last-child .tdd-arrow {
            display: none;
        }

        @media (max-width: 768px) {
            .system-diagram {
                flex-direction: column;
                gap: 20px;
            }
            
            .connection-arrow {
                transform: rotate(90deg);
            }
            
            .tdd-flow-diagram {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #ffc107;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .problem-solution {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧪 Claude Code Actions で実現するTDD</h1>
            <p>AI駆動テスト駆動開発 - 効率的な開発手法とベストプラクティス</p>
        </div>

        <!-- TDD概要とメリット -->
        <div class="section">
            <h2>🎯 Claude Code Actions TDD のメリット</h2>
            
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">🚀 AI駆動の効率化</div>
                    テスト作成からリファクタリングまで<br>
                    全工程をAIがサポート
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">📊 自動品質管理</div>
                    カバレッジ測定・品質チェック<br>
                    継続的な品質保証
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🔄 完全なTDDサイクル</div>
                    Red-Green-Refactor<br>
                    各フェーズを明確に実行
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">👥 チーム開発支援</div>
                    GitHub上での透明な<br>
                    開発プロセス共有
                </div>
            </div>

            <h3>🔄 従来のTDD vs Claude Code Actions TDD</h3>
            <div class="problem-solution">
                <div class="problem-box">
                    <h3>🐌 従来のTDD課題</h3>
                    <ul>
                        <li><strong>手動作業の負荷</strong><br>
                        テスト作成・実行・分析の繰り返し</li>
                        <li><strong>一貫性の欠如</strong><br>
                        開発者により品質基準が異なる</li>
                        <li><strong>時間的コスト</strong><br>
                        テスト設計に多大な時間を要する</li>
                        <li><strong>学習コスト</strong><br>
                        TDD習得に時間がかかる</li>
                    </ul>
                </div>
                <div class="solution-box">
                    <h3>🚀 Claude Code Actions TDD</h3>
                    <ul>
                        <li><strong>AI自動化</strong><br>
                        テスト設計・実装をAIが支援</li>
                        <li><strong>統一品質基準</strong><br>
                        AIによる一貫した品質管理</li>
                        <li><strong>高速開発</strong><br>
                        手動作業を大幅削減</li>
                        <li><strong>即座の学習</strong><br>
                        AIがベストプラクティスを提示</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- TDDサイクル詳細 -->
        <div class="section">
            <h2>🔄 AI駆動TDDサイクルの実践</h2>
            <div class="flow-diagram">
                <h3>💫 完全なTDDワークフロー</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-number">🔴</div>
                        <strong>RED Phase</strong><br>
                        失敗するテストをAIが作成
                    </div>
                    <div class="flow-step">
                        <div class="step-number">🟢</div>
                        <strong>GREEN Phase</strong><br>
                        最小実装でテスト通過
                    </div>
                    <div class="flow-step">
                        <div class="step-number">🔵</div>
                        <strong>REFACTOR Phase</strong><br>
                        AIによるコード品質改善
                    </div>
                    <div class="flow-step">
                        <div class="step-number">📊</div>
                        <strong>REPORT Phase</strong><br>
                        カバレッジ・品質レポート
                    </div>
                </div>
            </div>

            <h3>🎯 各フェーズでのClaude活用法</h3>
            <div class="code-block">
# 🔴 RED Phase - 失敗テスト作成
@claude Calculatorクラスに平方根計算機能を追加したいです。
まず失敗するテストケースを作成してください。
エッジケース（負の数、0、小数点）も含めてください。

# 🟢 GREEN Phase - 最小実装
@claude 作成されたテストが通る最小限の実装をしてください。
エラーハンドリングも忘れずにお願いします。

# 🔵 REFACTOR Phase - コード改善
@claude 実装されたコードをリファクタリングしてください。
パフォーマンス、可読性、保守性を向上させてください。
            </div>
        </div>

        <!-- 基本的な関係性 -->
        <div class="section">
            <h2>🔗 システム構成と連携</h2>
            
            <div class="system-diagram">
                <div class="system-component">
                    <div class="component-title">🐙 GitHub</div>
                    <ul class="component-features">
                        <li>Issues / PRs</li>
                        <li>Comments</li>
                        <li>Code Review</li>
                        <li>Repository</li>
                    </ul>
                </div>

                <div class="connection-arrow">⇄</div>

                <div class="system-component">
                    <div class="component-title">⚙️ GitHub Actions</div>
                    <ul class="component-features">
                        <li>TDD Workflow</li>
                        <li>CI/CD Pipeline</li>
                        <li>Automation</li>
                        <li>Trigger Management</li>
                    </ul>
                </div>

                <div class="connection-arrow">⇄</div>

                <div class="system-component">
                    <div class="component-title">🤖 Claude API</div>
                    <ul class="component-features">
                        <li>Test Design</li>
                        <li>Code Generation</li>
                        <li>Quality Analysis</li>
                        <li>AI Processing</li>
                    </ul>
                </div>
            </div>

            <div class="tdd-flow-diagram">
                <div class="tdd-phase">
                    <span class="phase-icon">🔴</span>
                    <div class="phase-title">RED Phase</div>
                    <div class="phase-description">失敗するテストを作成</div>
                    <div class="tdd-arrow">→</div>
                </div>
                
                <div class="tdd-phase">
                    <span class="phase-icon">🟢</span>
                    <div class="phase-title">GREEN Phase</div>
                    <div class="phase-description">最小実装でテスト通過</div>
                    <div class="tdd-arrow">→</div>
                </div>
                
                <div class="tdd-phase">
                    <span class="phase-icon">🔵</span>
                    <div class="phase-title">REFACTOR Phase</div>
                    <div class="phase-description">コード品質を改善</div>
                    <div class="tdd-arrow">→</div>
                </div>
                
                <div class="tdd-phase">
                    <span class="phase-icon">📊</span>
                    <div class="phase-title">REPORT Phase</div>
                    <div class="phase-description">結果をGitHubに投稿</div>
                </div>
            </div>
            
            <h3>🎯 TDD特化トリガーポイント</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">🔴 RED実行</div>
                    <code>@claude [機能] RED</code><br>
                    失敗テスト自動作成
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🟢 GREEN実行</div>
                    <code>@claude GREEN</code><br>
                    最小実装自動生成
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🔵 REFACTOR実行</div>
                    <code>@claude REFACTOR</code><br>
                    品質改善自動実行
                </div>
            </div>
        </div>

        <!-- ワークフロー詳細 -->
        <div class="section">
            <h2>⚙️ 実行フローの詳細</h2>
            <div class="flow-diagram">
                <h3>💫 標準的な実行フロー</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <strong>トリガー検知</strong><br>
                        @claude または [CLAUDE]
                    </div>
                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <strong>権限確認</strong><br>
                        GitHub Token 検証
                    </div>
                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <strong>コード取得</strong><br>
                        Repository Checkout
                    </div>
                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <strong>AI処理</strong><br>
                        Claude API 実行
                    </div>
                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <strong>結果投稿</strong><br>
                        Comment として返答
                    </div>
                </div>
            </div>

            <h3>🔧 Workflow設定の詳細</h3>
            <div class="code-block">
name: Claude Code Actions

on:
  issue_comment:
    types: [created]           # コメント作成時
  pull_request_comment:
    types: [created]           # PRコメント作成時
  issues:
    types: [opened, assigned]  # Issue開設・割当時

jobs:
  claude-response:
    runs-on: ubuntu-latest
    if: |
      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude')) ||
      (github.event_name == 'pull_request_comment' && contains(github.event.comment.body, '@claude')) ||
      (github.event_name == 'issues' && contains(github.event.issue.title, '[CLAUDE]'))
            </div>
        </div>

        <!-- 初回実行問題の解決 -->
        <div class="section">
            <h2>🔍 初回実行が動かない問題の解決</h2>
            
            <div class="highlight">
                <strong>⚠️ 重要:</strong> 新規Issueで初回実行が失敗することがよくあります
            </div>

            <div class="problem-solution">
                <div class="problem-box">
                    <h3>❌ 問題の原因</h3>
                    <ul>
                        <li><strong>GitHub Actions 初期化遅延</strong><br>
                        ワークフローの認識に時間がかかる</li>
                        <li><strong>権限設定の遅延適用</strong><br>
                        GitHub App権限が即座に反映されない</li>
                        <li><strong>トリガータイミング</strong><br>
                        Issue作成とワークフロー読み込みの競合</li>
                    </ul>
                </div>
                <div class="solution-box">
                    <h3>✅ 解決方法</h3>
                    <ul>
                        <li><strong>コメント追加で再実行</strong><br>
                        Issue作成後、<code>@claude</code> でコメント</li>
                        <li><strong>手動ワークフロー実行</strong><br>
                        Actions タブから直接実行</li>
                        <li><strong>最初からコメント方式</strong><br>
                        Issue本文ではなくコメントで依頼</li>
                    </ul>
                </div>
            </div>

            <h3>🎯 推奨される使用方法</h3>
            <div class="code-block">
# ❌ 失敗しやすいパターン
Issue タイトル: [CLAUDE] テスト実行
Issue 本文: @claude テストを実行してください
→ 初回は動作しない可能性あり

# ✅ 推奨パターン
1. Issue タイトル: テスト実行依頼
   Issue 本文: テストの実行をお願いします
   
2. 即座にコメント追加:
   「@claude ユニットテストを実施し結果を報告して」
   → 確実に動作
            </div>
        </div>

        <!-- 認証設定 -->
        <div class="section">
            <h2>🔐 認証設定と権限管理</h2>
            
            <h3>📋 必要なSecrets設定</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">CLAUDE_CODE_OAUTH_TOKEN</div>
                    Claude Code OAuth認証<br>
                    Claude Max プラン必須
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">GITHUB_TOKEN</div>
                    GitHub API アクセス<br>
                    自動的に提供される
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">ANTHROPIC_API_KEY</div>
                    Direct API アクセス<br>
                    （代替認証方式）
                </div>
            </div>

            <h3>⚙️ 権限設定</h3>
            <div class="code-block">
permissions:
  contents: write       # リポジトリの読み書き
  pull-requests: write  # PR作成・編集
  issues: write         # Issue編集・コメント
  actions: read         # Actions実行状況確認
            </div>

            <div class="highlight">
                <strong>💡 ヒント:</strong> 手動設定が完了していれば、Claude Code Actionsは正常に動作します。<br>
                GitHub App のインストールが失敗しても、Secrets設定で代替可能です。
            </div>
        </div>

        <!-- TDD実践アプローチ -->
        <div class="section">
            <h2>🎯 効果的なTDDアプローチ手法</h2>
            
            <h3>📋 Step-by-Step TDD実践ガイド</h3>
            
            <div class="flow-diagram">
                <h4>🚀 プロジェクト開始時のアプローチ</h4>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <strong>要件整理</strong><br>
                        機能要件をIssueに明記
                    </div>
                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <strong>テスト設計</strong><br>
                        @claude でテストケース設計
                    </div>
                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <strong>RED実行</strong><br>
                        失敗テストの自動作成
                    </div>
                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <strong>GREEN実行</strong><br>
                        最小実装で通過
                    </div>
                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <strong>REFACTOR実行</strong><br>
                        品質改善と最適化
                    </div>
                </div>
            </div>

            <h3>🔴 RED Phase - テスト設計のベストプラクティス</h3>
            <div class="code-block">
# ✅ 効果的なREDフェーズの指示例

Issue: [CLAUDE] ユーザー認証機能のTDD実装

@claude 以下の仕様でユーザー認証機能を実装します。
まずREDフェーズから開始してください：

**要求仕様:**
- ユーザー登録（email, password）
- ログイン機能
- パスワードハッシュ化
- JWT トークン生成

**テスト要件:**
- 正常系テストケース
- 異常系テストケース（不正なemail、弱いパスワード等）
- エッジケース（空文字、特殊文字等）
- セキュリティ要件の検証

まず失敗するテストケースを包括的に作成してください。
            </div>

            <h3>🟢 GREEN Phase - 最小実装のアプローチ</h3>
            <div class="code-block">
# ✅ 効果的なGREENフェーズの指示例

@claude REDフェーズで作成されたテストが通る最小限の実装をしてください。

**実装指針:**
- テストが通る最小限のコードのみ
- 過度な最適化は避ける
- エラーハンドリングは基本的なもののみ
- セキュリティ要件は必須（パスワードハッシュ化等）

**確認事項:**
- 全てのテストが通ること
- ESLintエラーがないこと
- 基本的なセキュリティが確保されていること

実装後、テスト結果を報告してください。
            </div>

            <h3>🔵 REFACTOR Phase - 品質改善のポイント</h3>
            <div class="code-block">
# ✅ 効果的なREFACTORフェーズの指示例

@claude GREENフェーズの実装をリファクタリングしてください。

**改善観点:**
- コードの可読性向上
- パフォーマンス最適化
- セキュリティ強化
- エラーハンドリングの充実
- 重複コードの削除
- 設計パターンの適用

**品質基準:**
- テストカバレッジ 100%維持
- 全テスト通過の維持
- ESLint・型チェック通過
- セキュリティベストプラクティス適用

**成果物:**
- リファクタリング後のコード
- 改善点の詳細レポート
- パフォーマンス影響の分析
- 追加テストケース（必要に応じて）
            </div>
        </div>

        <!-- 段階的開発戦略 -->
        <div class="section">
            <h2>📈 段階的TDD開発戦略</h2>

            <h3>🎯 開発規模別アプローチ</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">🔧 単一機能開発</div>
                    1つのIssueで完結<br>
                    Full TDDサイクルを1回実行
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🏗️ 複数機能開発</div>
                    機能ごとにIssue分割<br>
                    段階的なTDD実行
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🌟 大規模システム</div>
                    モジュール単位で分割<br>
                    統合テストも含めたTDD
                </div>
            </div>

            <h3>⏰ 長時間処理と分割戦略</h3>
            <div class="highlight">
                <strong>🕐 タイムアウト設定:</strong> 現在のプロジェクトは180分（3時間）の長時間処理に対応しています。
                ただし、効率的な開発のため分割処理を推奨します。
            </div>

            <div class="problem-solution">
                <div class="problem-box">
                    <h3>⚠️ 長時間処理のリスク</h3>
                    <ul>
                        <li><strong>タイムアウトエラー</strong><br>
                        180分を超える処理は強制終了</li>
                        <li><strong>途中失敗のリスク</strong><br>
                        長時間処理中のエラーで全て無駄</li>
                        <li><strong>デバッグ困難</strong><br>
                        どこで問題が発生したか特定困難</li>
                        <li><strong>リソース消費</strong><br>
                        API使用量とコストの増大</li>
                    </ul>
                </div>
                <div class="solution-box">
                    <h3>✅ 分割処理のメリット</h3>
                    <ul>
                        <li><strong>確実な進捗</strong><br>
                        各段階での成果物確保</li>
                        <li><strong>エラー特定容易</strong><br>
                        問題箇所の迅速な特定</li>
                        <li><strong>並行作業可能</strong><br>
                        チームでの分担作業</li>
                        <li><strong>コスト効率</strong><br>
                        必要な部分のみ再実行</li>
                    </ul>
                </div>
            </div>

            <h3>🔧 効果的な分割テクニック</h3>
            <div class="code-block">
# ✅ 推奨: 機能別分割アプローチ

# Issue #1: 基盤設計
@claude 新しいユーザー認証システムの基盤設計を行ってください：
- データベーススキーマ設計
- 基本クラス構造の定義
- 依存関係の整理
（目安時間: 30-45分）

# Issue #2: コア機能実装
@claude Issue #1の設計に基づいてコア認証機能を実装してください：
- ユーザー登録機能（RED→GREEN→REFACTOR）
- ログイン機能（RED→GREEN→REFACTOR）
（目安時間: 60-90分）

# Issue #3: セキュリティ強化
@claude Issue #2の実装にセキュリティ機能を追加してください：
- パスワードハッシュ化
- JWT トークン実装
- セキュリティテスト
（目安時間: 45-60分）

# Issue #4: 統合テスト
@claude 認証システム全体の統合テストを実装してください：
- End-to-Endテスト
- パフォーマンステスト
- セキュリティ監査
（目安時間: 30-45分）
            </div>

            <h3>📊 時間別処理ガイドライン</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">⚡ 短時間 (15-30分)</div>
                    • 単一メソッドのTDD<br>
                    • バグ修正<br>
                    • 簡単なリファクタリング
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🔧 中時間 (30-90分)</div>
                    • 新クラス実装<br>
                    • 機能追加<br>
                    • セキュリティ改善
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🏗️ 長時間 (90-180分)</div>
                    • アーキテクチャ改善<br>
                    • 大規模リファクタリング<br>
                    • 包括的テスト実装
                </div>
            </div>

            <h3>🔄 進捗管理のベストプラクティス</h3>
            <div class="code-block">
# 📋 段階的実行の指示例

@claude 以下を段階的に実行し、各段階で進捗を報告してください：

**全体目標**: E-commerceカート機能の完全実装（予想時間: 150分）

**Phase 1** (30分): 設計とデータモデル
- カートデータ構造の設計
- 基本クラスの骨格作成
- 依存関係図の作成

**Phase 2** (45分): 基本機能実装
- 商品追加機能（TDD）
- 数量変更機能（TDD）
- 商品削除機能（TDD）

**Phase 3** (45分): 高度な機能
- 割引計算機能
- 送料計算機能
- 税額計算機能

**Phase 4** (30分): 品質保証
- 統合テスト
- パフォーマンステスト
- セキュリティチェック

各Phase完了時に以下を報告してください：
1. 実装内容の要約
2. テスト結果
3. 次Phaseの準備状況
4. 発見された課題（あれば）
            </div>

            <h3>📊 継続的品質管理</h3>
            <div class="code-block">
# 🔄 定期的な品質チェック

# 週次品質レビュー（60分程度）
@claude プロジェクト全体の品質レポートを作成してください：
- 全体のテストカバレッジ分析
- セキュリティ問題の検出
- パフォーマンスボトルネックの特定
- コード品質の改善提案

# リリース前総合チェック（90分程度）
@claude リリース準備の総合チェックを段階的に実行してください：

Phase 1: 基本品質確認（30分）
- 全テスト実行・結果確認
- ESLint・型チェック実行

Phase 2: セキュリティ監査（30分）
- 脆弱性スキャン
- 依存関係セキュリティチェック

Phase 3: 最終確認（30分）
- パフォーマンステスト
- ドキュメント整合性確認
- デプロイ準備チェック
            </div>
        </div>

        <!-- トラブルシューティング -->
        <div class="section">
            <h2>🛠️ トラブルシューティング</h2>
            
            <div class="problem-solution">
                <div class="problem-box">
                    <h3>❌ よくある問題</h3>
                    <ul>
                        <li>初回Issue実行が動かない</li>
                        <li>認証エラーが発生</li>
                        <li>タイムアウトで処理中断（180分超過）</li>
                        <li>権限不足エラー</li>
                        <li>長時間処理での途中失敗</li>
                    </ul>
                </div>
                <div class="solution-box">
                    <h3>✅ 解決手順</h3>
                    <ul>
                        <li>コメントで @claude 再実行</li>
                        <li>Secrets設定を再確認</li>
                        <li>複雑な処理を分割実行</li>
                        <li>Repository Settings確認</li>
                        <li>段階的進捗報告を依頼</li>
                    </ul>
                </div>
            </div>

            <h3>⏰ タイムアウト対策の詳細ガイド</h3>
            <div class="code-block">
# 🚨 タイムアウト発生時の対処法

## 1. 進捗確認と継続
@claude 前回のタスクの進捗状況を確認し、中断箇所から継続してください：
- 完了した作業の確認
- 残りのタスクの特定
- 継続実行の準備

## 2. 処理状況の定期報告
@claude 以下のタスクを実行し、30分ごとに進捗を報告してください：
[具体的なタスク内容]

各報告で以下を含めてください：
- 現在の進捗状況（何%完了）
- 次の30分で実行予定の作業
- 発見された問題や課題

## 3. 段階的保存とチェックポイント
@claude 大規模な変更を行う際は、以下の手順で実行してください：
1. 30分ごとに中間結果をコミット
2. 各段階でテスト実行
3. 問題発見時は即座に報告
4. 次段階の実行可否を確認
            </div>

            <h3>🔧 効率的なエラー回復戦略</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">📊 進捗トラッキング</div>
                    30分ごとの進捗報告<br>
                    チェックポイント設定
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">💾 中間保存</div>
                    段階的コミット<br>
                    ロールバック準備
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🔄 継続実行</div>
                    中断箇所からの再開<br>
                    状態復元機能
                </div>
            </div>

            <h3>🎯 確実な実行のベストプラクティス</h3>
            <div class="highlight">
                <ol>
                    <li><strong>Issue作成時</strong>: タイトルのみ設定</li>
                    <li><strong>即座にコメント</strong>: <code>@claude [具体的な依頼]</code></li>
                    <li><strong>時間見積もり</strong>: 180分以内に収まるよう分割</li>
                    <li><strong>進捗確認</strong>: Actions タブで実行状況チェック</li>
                    <li><strong>定期報告</strong>: 長時間処理では30分ごとの進捗確認</li>
                    <li><strong>エラー時</strong>: 進捗保存後に分割して再実行</li>
                </ol>
            </div>

            <h3>📈 タイムアウト予防のチェックリスト</h3>
            <div class="code-block">
# ✅ 実行前チェックリスト

□ タスクが180分以内で完了できる適切な粒度か？
□ 複雑な処理は段階的に分割されているか？
□ 各段階で中間結果を保存する計画があるか？
□ エラー発生時の復旧手順を準備しているか？
□ 進捗報告のタイミングを明確にしているか？

# 🎯 実行時の指示例

@claude 以下のタスクを180分以内で完了してください。
ただし、60分経過時点で必ず進捗報告をお願いします：

[具体的なタスク内容]

**重要**: 150分時点で未完了の場合は、
現在の進捗を保存して次のIssueに継続の準備をしてください。
            </div>
        </div>

        <!-- 成功指標とベストプラクティス -->
        <div class="section">
            <h2>🏆 TDD成功指標とベストプラクティス</h2>
            
            <h3>📊 定量的成功指標</h3>
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">📈 テストカバレッジ</div>
                    **目標: 95%以上**<br>
                    全コードパスの網羅的テスト
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">⚡ 開発速度</div>
                    **目標: 50%向上**<br>
                    従来比での開発時間短縮
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🐛 バグ検出率</div>
                    **目標: 80%削減**<br>
                    本番環境でのバグ件数
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🔄 リファクタリング頻度</div>
                    **目標: 週次実行**<br>
                    継続的なコード品質改善
                </div>
            </div>

            <h3>🎯 TDD実践のベストプラクティス</h3>
            <div class="problem-solution">
                <div class="solution-box" style="grid-column: 1 / -1;">
                    <h4>✅ 推奨する開発フロー</h4>
                    <ol style="margin: 15px 0;">
                        <li><strong>明確な要件定義</strong>: Issueで機能要件・制約条件を詳細記載</li>
                        <li><strong>テストファースト</strong>: 必ずREDフェーズから開始</li>
                        <li><strong>段階的実装</strong>: 小さな単位での反復実行</li>
                        <li><strong>継続的リファクタリング</strong>: 各サイクルでの品質改善</li>
                        <li><strong>自動化活用</strong>: Claude Code Actionsの最大限活用</li>
                    </ol>
                </div>
            </div>

            <h3>⚠️ 避けるべきアンチパターン</h3>
            <div class="code-block">
# ❌ 避けるべきパターン

❌ 実装を先に書いてからテストを追加
❌ 複雑すぎる機能を一度に実装
❌ リファクタリングフェーズをスキップ
❌ テストカバレッジの確認を怠る
❌ セキュリティ要件を後回しにする

# ✅ 推奨パターン

✅ 失敗テストから開始（RED → GREEN → REFACTOR）
✅ 小さな機能単位での段階的開発
✅ 各フェーズでの品質確認
✅ セキュリティをテスト段階から組み込み
✅ 継続的なドキュメント更新
            </div>

            <h3>🚀 チーム導入のロードマップ</h3>
            <div class="flow-diagram">
                <h4>📋 段階的導入計画</h4>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-number">Week1</div>
                        <strong>環境構築</strong><br>
                        Claude Code Actions設定<br>
                        基本的なTDD実行
                    </div>
                    <div class="flow-step">
                        <div class="step-number">Week2</div>
                        <strong>実践練習</strong><br>
                        簡単な機能でTDD実行<br>
                        チーム内での知識共有
                    </div>
                    <div class="flow-step">
                        <div class="step-number">Week3</div>
                        <strong>本格運用</strong><br>
                        実際の開発でTDD適用<br>
                        品質指標の測定開始
                    </div>
                    <div class="flow-step">
                        <div class="step-number">Week4+</div>
                        <strong>継続改善</strong><br>
                        フローの最適化<br>
                        高度な技法の導入
                    </div>
                </div>
            </div>
        </div>

        <!-- まとめ -->
        <div class="section">
            <h2>🎉 Claude Code Actions TDD の効果</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">Claude Code Actions を活用したTDDにより、以下の革新的な開発体験が実現できます：</p>
            
            <div class="trigger-examples">
                <div class="trigger-card">
                    <div class="trigger-title">🧠 AI駆動の設計</div>
                    テスト設計からリファクタリングまで<br>
                    AIが最適な実装を提案
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">📈 継続的品質向上</div>
                    自動化された品質チェック<br>
                    一貫した高品質コード
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">⚡ 高速開発サイクル</div>
                    手動作業の大幅削減<br>
                    開発生産性の向上
                </div>
                <div class="trigger-card">
                    <div class="trigger-title">🛡️ セキュリティ強化</div>
                    設計段階からのセキュリティ<br>
                    自動的な脆弱性検出
                </div>
            </div>
            
            <div class="highlight">
                <strong>🎯 重要:</strong> Claude Code Actions TDDは単なるツールではなく、
                <strong>開発チーム全体の品質文化を変革する手法</strong>です。
                180分の長時間処理対応により、大規模な開発タスクも効率的に実行できます。
                継続的な実践により、真のアジャイル開発が実現できます。
            </div>

            <div class="code-block">
# 🚀 今すぐ始められるファーストステップ

1. Issue作成: 「[CLAUDE] Calculator平方根機能のTDD実装」
2. コメント追加: 「@claude REDフェーズから開始してください」  
3. 結果確認: GitHub Actions実行ログをチェック
4. 継続実行: GREEN → REFACTOR フェーズを順次実行

→ 完全なTDDサイクルを体験できます！
            </div>
        </div>
    </div>
</body>
</html>