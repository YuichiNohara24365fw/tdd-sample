# Claude Universal Actions ガイド

## 🤖 汎用的な単一ワークフロー

### 概要
Claude Universal Actionsは、個別のワークフローを統合した汎用的なシステムです。1つのワークフローで、コード生成、レビュー、リファクタリング、テスト実行など、すべての開発タスクを自動実行します。

## 🎯 統一された指示方法

### 基本的な指示フォーマット
```markdown
タイトル: [CLAUDE] 指示内容
本文: 具体的な実行指示
```

すべての機能が同一のワークフローで自動判別・実行されます。

## 🚀 利用可能なアクション（自動判別）

### 👁️ 包括的コードレビュー
**トリガーキーワード**: `[REVIEW]`, `レビュー`, `review`, `チェック`, `分析`, `監査`

```markdown
タイトル: [CLAUDE] コードレビュー
本文: プロジェクト全体をレビューしてください
```

**自動実行内容**:
- ESLint品質分析
- テストカバレッジ分析
- セキュリティスキャン
- コードメトリクス測定
- 改善提案生成

### 🔧 包括的リファクタリング
**トリガーキーワード**: `[REFACTOR]`, `リファクタ`, `refactor`, `改善`, `最適化`

```markdown
タイトル: [CLAUDE] リファクタリング
本文: Calculator クラスを改善してください
```

**自動実行内容**:
- コードバックアップ作成
- 重複コード削除
- console.log文除去
- JSDocドキュメント追加
- 前後テスト検証

### 🏗️ コード生成
**トリガーキーワード**: `新しいクラス`, `new class`, `メソッド追加`, `add method`

```markdown
タイトル: [CLAUDE] 新機能追加
本文: ArrayUtils クラスと sqrt メソッドを作成してください
```

**自動実行内容**:
- インテリジェントクラス生成
- 適切なメソッド実装
- エラーハンドリング追加
- JSDocドキュメント生成

### 🧪 テスト強化
**トリガーキーワード**: `テスト追加`, `add test`, `TDD`, `red green refactor`

```markdown
タイトル: [CLAUDE] テスト拡充
本文: 新しいクラスのテストを作成してください
```

**自動実行内容**:
- 包括的テストケース生成
- エッジケース・異常系テスト
- カバレッジ分析
- TDDサイクル実行

### 🚀 実行・分析
**トリガーキーワード**: `全テスト`, `test all`, `実行`, `カバレッジ`

```markdown
タイトル: [CLAUDE] 品質確認
本文: テストとカバレッジを確認してください
```

**自動実行内容**:
- 全テスト実行
- カバレッジレポート
- 品質メトリクス
- 総合分析

## 🎯 インテリジェントな自動判別

### 優先度順での判定
1. **コードレビュー** (最高優先度) - 包括的分析が必要
2. **リファクタリング** (高優先度) - コード改善
3. **コード生成** (中優先度) - 新機能追加
4. **テスト強化** (中優先度) - 品質保証
5. **実行・分析** (低優先度) - 既存コード確認

### 対象の自動抽出
- **クラス名**: Calculator, StringUtils, ArrayUtils など
- **メソッド名**: sqrt, factorial, sum, average など
- **ファイルパス**: src/calculator.js, tests/*.test.js など

## 📋 実行結果の統一フォーマット

```markdown
## 🤖 Claude Universal Actions - 実行完了

**Issue**: #123
**アクション**: 👁️ 包括的コードレビュー
**総合結果**: ✅ 成功

### 🎯 実行内容
- **対象クラス**: Calculator
- **対象メソッド**: sqrt
- **対象ファイル**: src/calculator.js

### 📋 詳細実行レポート
=== CODE QUALITY ANALYSIS ===
ESLint: 0 errors, 2 warnings
Coverage: 100%
Security: No major concerns

### 💡 次回実行可能な指示例
#### 🏗️ コード生成
- [CLAUDE] 新しいクラス "MathUtils" を作成してください

#### 👁️ レビュー・分析
- [REVIEW] セキュリティ観点でチェックしてください

#### 🔧 リファクタリング
- [REFACTOR] パフォーマンスを最適化してください
```

## 💡 効果的な指示例

### 複合的な指示
```markdown
タイトル: [CLAUDE] 全面的改善
本文: 
Calculator クラスを以下の観点で改善してください：
1. コードレビューで問題点を特定
2. リファクタリングで品質向上
3. 不足しているテストを追加
4. 最終的な品質確認
```

### 段階的な指示
```markdown
タイトル: [CLAUDE] 新機能開発
本文:
1. ArrayUtils クラスを作成
2. unique, sum, average メソッドを実装
3. 包括的なテストを追加
4. コードレビューで品質確認
```

### 特定技術の指示
```markdown
タイトル: [CLAUDE] セキュリティ強化
本文:
セキュリティ観点でコードを分析し、以下を実行してください：
- 脆弱性スキャン
- 入力値検証の強化
- エラーハンドリング改善
- セキュアコーディング適用
```

## 🔧 高度な使用方法

### Pull Request統合
```markdown
# PR タイトル
[CLAUDE] 新機能: 配列操作ユーティリティ

# PR 説明
ArrayUtilsクラスの追加
レビューと品質チェックをお願いします
```
→ 自動でコードレビューとテスト実行

### Issue Comments
```markdown
@claude この実装についてセキュリティ観点でチェックしてください
```
→ 即座にセキュリティ分析実行

### ラベルベース実行
Issue に以下ラベルを追加:
- `claude-actions` - 汎用実行
- `code-review` - レビュー重点
- `refactoring` - リファクタリング重点

## 📊 品質指標とトラッキング

### 自動ラベル管理
- `claude-universal-executed` - 実行完了
- `execution-success` - 成功
- `needs-attention` - 要対応
- `minor-issues` - 軽微な問題

### 継続的改善
1. **定期実行**: Issues/PRで自動トリガー
2. **品質追跡**: 実行結果の継続監視
3. **段階的改善**: 複数回実行での品質向上
4. **チーム連携**: 実行結果の共有・議論

## 🎯 ベストプラクティス

### 効果的な指示
1. **明確な目的**: 何を達成したいかを明示
2. **適切なキーワード**: 自動判別しやすい用語使用
3. **具体的な対象**: クラス名・メソッド名の指定
4. **段階的実行**: 複雑なタスクの分割

### 結果の活用
1. **即座の対応**: エラー・警告への迅速対応
2. **継続的実行**: 定期的な品質チェック
3. **学習機会**: 実行結果からの知見獲得
4. **プロセス改善**: ワークフロー最適化

これで1つのワークフローですべての開発タスクが自動化されます！