# Claude Code Review ガイド

## 👁️ Claude Code Review 機能

### 自動コードレビューシステム
Claude Code Reviewは、コードの品質、セキュリティ、パフォーマンス、保守性を包括的に分析し、具体的な改善提案を提供します。

## 🚀 利用方法

### 1. Issueベースレビュー

#### 全体レビュー
```markdown
タイトル: [REVIEW] 全体コードレビュー
本文: プロジェクト全体をレビューしてください
```

#### 特定ファイルレビュー
```markdown
タイトル: [REVIEW] Calculator クラス
本文: src/calculator.js をレビューしてください
```

#### セキュリティ重点レビュー
```markdown
タイトル: [REVIEW] セキュリティチェック
本文: セキュリティ観点でコードをチェックしてください
```

### 2. Pull Request 自動レビュー

#### PRタイトルにレビュー指示
```markdown
タイトル: [REVIEW] 新機能追加: 平方根計算
```

#### PR本文にレビュー依頼
```markdown
## 変更内容
- Calculator.sqrt() メソッド追加

## レビュー依頼
レビューをお願いします
```

### 3. コメントベースレビュー
```markdown
@claude-review このファイルをチェックしてください
```

## 📊 レビュー分析項目

### 🔍 コード品質分析
- **ESLint チェック**: 構文エラー、スタイル違反
- **複雑度分析**: 関数の複雑さ、ネストレベル
- **命名規則**: 変数名、関数名の一貫性
- **コードメトリクス**: 行数、関数数、クラス数

### 🔒 セキュリティ分析
- **危険な関数**: `eval()`, `innerHTML`, `document.write`
- **機密情報漏洩**: コンソールログ、ハードコード値
- **インジェクション脆弱性**: SQL、XSS、コマンドインジェクション
- **認証・認可**: アクセス制御の実装

### ⚡ パフォーマンス分析
- **ループ効率**: for文、配列操作の最適化
- **メモリ使用**: 不要な変数、メモリリーク
- **非同期処理**: async/await の適切な使用
- **データ構造**: 効率的なアルゴリズム選択

### 🧪 テスト品質分析
- **カバレッジ**: テストカバレッジ率
- **テストケース**: エッジケース、異常系テスト
- **テスト構造**: describe/test の構成
- **モック使用**: 適切な依存関係の分離

### 📚 ドキュメント分析
- **JSDoc**: 関数・クラスのドキュメント
- **README**: プロジェクト説明の充実度
- **コメント**: コードコメントの質と量
- **型定義**: TypeScript型注釈の適切性

## 📋 レビュー結果の読み方

### 評価ランク
- **✅ 良好**: エラー少数、高品質コード
- **⚠️ 改善推奨**: 軽微な改善点あり
- **❌ 要改善**: 重要な問題が複数存在

### 結果セクション
```markdown
## 👁️ Claude Code Review - 完了

**総合評価**: ✅ 良好
**エラー**: 2件
**警告**: 5件
**TODO/FIXME**: 3件

### 📋 詳細レビュー結果
=== ESLint Analysis ===
Found 2 errors, 5 warnings

=== Security Scan ===
⚠️ Found console.log statements

=== Code Metrics ===
Total: 245 lines
Total functions: 12
Total classes: 3

### 🎯 推奨アクション
1. **高優先度**: エラーの修正
2. **中優先度**: 警告への対応  
3. **低優先度**: TODO項目の整理
```

## 💡 具体的なレビュー指示例

### セキュリティ重点レビュー
```markdown
タイトル: [REVIEW] セキュリティ監査
本文: 
以下の観点でセキュリティレビューをお願いします：
- 入力値検証の実装
- XSS対策の確認
- 機密情報の漏洩チェック
- 認証・認可の実装確認
```

### パフォーマンス重点レビュー
```markdown
タイトル: [REVIEW] パフォーマンス最適化
本文:
パフォーマンス観点でレビューしてください：
- ループ処理の効率化
- メモリ使用量の最適化
- 非同期処理の改善
- アルゴリズム選択の妥当性
```

### 保守性重点レビュー
```markdown
タイトル: [REVIEW] 保守性チェック
本文:
コードの保守性を評価してください：
- 関数の単一責任原則
- コードの可読性
- ドキュメントの充実度
- テストの網羅性
```

### 新人開発者向けレビュー
```markdown
タイトル: [REVIEW] 新人コードレビュー
本文:
新人開発者のコードを教育的観点でレビューしてください：
- ベストプラクティスの指摘
- 改善提案の説明
- 学習リソースの提案
- 段階的改善計画
```

## 🔧 カスタムレビュー設定

### 特定技術スタックの重点レビュー
```markdown
タイトル: [REVIEW] React コンポーネント
本文:
React固有の観点でレビューしてください：
- Hooks使用パターン
- 再レンダリング最適化
- Props設計
- 状態管理
```

### アクセシビリティレビュー
```markdown
タイトル: [REVIEW] アクセシビリティ
本文:
アクセシビリティ観点でレビューしてください：
- ARIA属性の適切な使用
- キーボードナビゲーション
- スクリーンリーダー対応
- カラーコントラスト
```

## 📈 継続的改善

### レビュー結果の活用
1. **優先度付け**: 高・中・低の優先度でタスク化
2. **進捗追跡**: ラベルによる改善状況の管理
3. **品質指標**: レビュー結果の推移をモニタリング
4. **チーム学習**: レビュー指摘事項の共有・議論

### 自動化との連携
- **CI/CD統合**: プッシュ時の自動レビュー
- **ブランチ保護**: レビュー通過後のマージ許可
- **品質ゲート**: 品質基準未達時のデプロイ阻止
- **レポート生成**: 定期的な品質レポート作成

## 🎯 ベストプラクティス

### 効果的なレビュー依頼
1. **具体的な観点**: 何を重点的にレビューしたいか明確化
2. **変更背景**: なぜその変更が必要だったかの説明
3. **懸念事項**: 特に心配している点の共有
4. **期待する結果**: レビュー後にどう改善したいかの明示

### レビュー結果の活用
1. **即座の対応**: 高優先度項目の迅速な修正
2. **学習機会**: 指摘事項を学習機会として活用
3. **プロセス改善**: 繰り返し指摘される問題の根本解決
4. **知識共有**: チーム内でのレビュー結果の共有

これで包括的なコードレビューが自動化されます！